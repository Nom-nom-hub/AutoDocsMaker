# ai_generator

## File Path

./autodocs/generators/ai_generator.py

## Overview

AI-powered documentation generator using OpenRouter API.

This module provides functionality to generate documentation using AI models through the OpenRouter API.

## Quick Reference

**Classes:**

*   `AIGenerator`: Generator for AI-powered documentation.

**Methods:**

*   `AIGenerator.__init__(config)`: Initialize the AI generator.
*   `AIGenerator.generate(parsed_data, output_path)`: Generate AI-powered documentation from parsed data
*   `AIGenerator._generate_docs_sequential(valid_files, output_path)`: Generate documentation sequentially for each file
*   `AIGenerator._generate_docs_parallel(valid_files, output_path)`: Generate documentation in parallel for each file
*   `AIGenerator._process_file(data, output_file)`: Process a single file for parallel execution
*   `AIGenerator._generate_index(parsed_data, output_path)`: Generate index file with links to all documentation
*   `AIGenerator._generate_file_doc_with_ai(data)`: Generate documentation for a file using AI
*   `AIGenerator._call_ai_api(prompt)`: Call the OpenRouter API with the given prompt
*   `AIGenerator._create_file_doc_prompt(data)`: Create a prompt for generating file documentation
*   `AIGenerator._create_index_prompt(files_info, project_info)`: Create a prompt for generating index documentation

## Detailed Documentation

### Class: `AIGenerator`

Generator for AI-powered documentation.

This class uses the OpenRouter API to generate documentation for code files using AI models like open-r1/olympiccoder-32b.

#### `AIGenerator.__init__(config)`

Initialize the AI generator.

**Args:**

*   `config` (dict, optional): Configuration dictionary with API settings. Defaults to empty dict.

#### `AIGenerator.generate(parsed_data, output_path)`

Generate AI-powered documentation from parsed data

**Args:**

*   `parsed_data`: Dictionary of parsed file data
*   `output_path`: Directory to write output files

#### `AIGenerator._generate_docs_sequential(valid_files, output_path)`

Generate documentation sequentially for each file

#### `AIGenerator._generate_docs_parallel(valid_files, output_path)`

Generate documentation in parallel for each file

#### `AIGenerator._process_file(data, output_file)`

Process a single file for parallel execution

#### `AIGenerator._generate_index(parsed_data, output_path)`

Generate index file with links to all documentation

#### `AIGenerator._generate_file_doc_with_ai(data)`

Generate documentation for a file using AI

#### `AIGenerator._call_ai_api(prompt)`

Call the OpenRouter API with the given prompt

#### `AIGenerator._create_file_doc_prompt(data)`

Create a prompt for generating file documentation

#### `AIGenerator._create_index_prompt(files_info, project_info)`

Create a prompt for generating index documentation

## Usage Examples

It is difficult to provide complete usage examples without knowing the specifics of the `parsed_data` format and the configuration options. However, here's a conceptual example:

```python
from autodocs.generators.ai_generator import AIGenerator

# Example configuration (replace with your actual API key and model)
config = {
    "api_key": "YOUR_OPENROUTER_API_KEY",
    "model": "open-r1/olympiccoder-32b"
}

# Example parsed data (replace with your actual parsed data)
parsed_data = {
    "file1.py": {
        "code": "def my_function(x):\n  return x * 2",
        "name": "my_function",
        "description": "A simple function"
    },
    "file2.py": {
        "code": "class MyClass:\n  pass",
        "name": "MyClass",
        "description": "A simple class"
    }
}

# Output directory
output_path = "docs"

# Create an AIGenerator instance
generator = AIGenerator(config)

# Generate documentation
generator.generate(parsed_data, output_path)

print(f"Documentation generated in {output_path}")
```

This example demonstrates the basic steps:

1.  Import the `AIGenerator` class.
2.  Create a configuration dictionary, including your OpenRouter API key and the desired model.
3.  Prepare `parsed_data`. This data would typically be generated by a code parsing module.  The structure of this data is critical for the AI to generate useful documentation.
4.  Specify the output directory.
5.  Instantiate the `AIGenerator` with the configuration.
6.  Call the `generate` method, passing in the parsed data and the output path.